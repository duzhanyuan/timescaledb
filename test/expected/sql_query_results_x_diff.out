--make sure diff only has explain output not result output
\! diff ../results/sql_query_results_optimized.out ../results/sql_query_results_unoptimized.out 
10a11
> SET timescaledb.disable_optimizations= 'true';
82,83c83,84
<                                               QUERY PLAN                                              
< ------------------------------------------------------------------------------------------------------
---
>                                    QUERY PLAN                                   
> --------------------------------------------------------------------------------
85,91c86,91
<    ->  GroupAggregate
<          Group Key: (date_trunc('minute'::text, _hyper_1_0_replica."time"))
<          ->  Result
<                ->  Merge Append
<                      Sort Key: (date_trunc('minute'::text, _hyper_1_0_replica."time")) DESC
<                      ->  Sort
<                            Sort Key: (date_trunc('minute'::text, _hyper_1_0_replica."time")) DESC
---
>    ->  Sort
>          Sort Key: (date_trunc('minute'::text, _hyper_1_0_replica."time")) DESC
>          ->  HashAggregate
>                Group Key: date_trunc('minute'::text, _hyper_1_0_replica."time")
>                ->  Result
>                      ->  Append
93,94d92
<                      ->  Sort
<                            Sort Key: (date_trunc('minute'::text, _hyper_1_1_0_partition."time")) DESC
96,97c94,95
<                      ->  Index Scan using "1-time_plain" on _hyper_1_1_0_1_data
< (13 rows)
---
>                            ->  Seq Scan on _hyper_1_1_0_1_data
> (10 rows)
125,131c123,128
<    ->  GroupAggregate
<          Group Key: (date_trunc('minute'::text, _hyper_1_0_replica."time"))
<          ->  Result
<                ->  Merge Append
<                      Sort Key: (date_trunc('minute'::text, _hyper_1_0_replica."time")) DESC
<                      ->  Sort
<                            Sort Key: (date_trunc('minute'::text, _hyper_1_0_replica."time")) DESC
---
>    ->  Sort
>          Sort Key: (date_trunc('minute'::text, _hyper_1_0_replica."time")) DESC
>          ->  HashAggregate
>                Group Key: date_trunc('minute'::text, _hyper_1_0_replica."time")
>                ->  Result
>                      ->  Append
134,135d130
<                      ->  Sort
<                            Sort Key: (date_trunc('minute'::text, _hyper_1_1_0_partition."time")) DESC
138,140c133,135
<                      ->  Index Scan using "1-time_plain" on _hyper_1_1_0_1_data
<                            Index Cond: ("time" < 'Wed Dec 31 16:15:00 1969 PST'::timestamp with time zone)
< (16 rows)
---
>                            ->  Seq Scan on _hyper_1_1_0_1_data
>                                  Filter: ("time" < 'Wed Dec 31 16:15:00 1969 PST'::timestamp with time zone)
> (13 rows)
211,212c206,207
<                                                  QUERY PLAN                                                 
< ------------------------------------------------------------------------------------------------------------
---
>                                       QUERY PLAN                                      
> --------------------------------------------------------------------------------------
214,220c209,214
<    ->  GroupAggregate
<          Group Key: (time_bucket('@ 1 min'::interval, _hyper_1_0_replica."time"))
<          ->  Result
<                ->  Merge Append
<                      Sort Key: (time_bucket('@ 1 min'::interval, _hyper_1_0_replica."time")) DESC
<                      ->  Sort
<                            Sort Key: (time_bucket('@ 1 min'::interval, _hyper_1_0_replica."time")) DESC
---
>    ->  Sort
>          Sort Key: (time_bucket('@ 1 min'::interval, _hyper_1_0_replica."time")) DESC
>          ->  HashAggregate
>                Group Key: time_bucket('@ 1 min'::interval, _hyper_1_0_replica."time")
>                ->  Result
>                      ->  Append
222,223d215
<                      ->  Sort
<                            Sort Key: (time_bucket('@ 1 min'::interval, _hyper_1_1_0_partition."time")) DESC
225,226c217,218
<                      ->  Index Scan using "7-time_plain" on _hyper_1_1_0_1_data
< (13 rows)
---
>                            ->  Seq Scan on _hyper_1_1_0_1_data
> (10 rows)
238,239c230,231
<                                                                            QUERY PLAN                                                                           
< ----------------------------------------------------------------------------------------------------------------------------------------------------------------
---
>                                                                 QUERY PLAN                                                                
> ------------------------------------------------------------------------------------------------------------------------------------------
241,247c233,238
<    ->  GroupAggregate
<          Group Key: ((time_bucket('@ 1 min'::interval, (_hyper_1_0_replica."time" - '@ 30 secs'::interval)) + '@ 30 secs'::interval))
<          ->  Result
<                ->  Merge Append
<                      Sort Key: ((time_bucket('@ 1 min'::interval, (_hyper_1_0_replica."time" - '@ 30 secs'::interval)) + '@ 30 secs'::interval)) DESC
<                      ->  Sort
<                            Sort Key: ((time_bucket('@ 1 min'::interval, (_hyper_1_0_replica."time" - '@ 30 secs'::interval)) + '@ 30 secs'::interval)) DESC
---
>    ->  Sort
>          Sort Key: ((time_bucket('@ 1 min'::interval, (_hyper_1_0_replica."time" - '@ 30 secs'::interval)) + '@ 30 secs'::interval)) DESC
>          ->  HashAggregate
>                Group Key: (time_bucket('@ 1 min'::interval, (_hyper_1_0_replica."time" - '@ 30 secs'::interval)) + '@ 30 secs'::interval)
>                ->  Result
>                      ->  Append
249,250d239
<                      ->  Sort
<                            Sort Key: ((time_bucket('@ 1 min'::interval, (_hyper_1_1_0_partition."time" - '@ 30 secs'::interval)) + '@ 30 secs'::interval)) DESC
252,253c241,242
<                      ->  Index Scan using "7-time_plain" on _hyper_1_1_0_1_data
< (13 rows)
---
>                            ->  Seq Scan on _hyper_1_1_0_1_data
> (10 rows)
265,266c254,255
<                                                               QUERY PLAN                                                              
< --------------------------------------------------------------------------------------------------------------------------------------
---
>                                                    QUERY PLAN                                                   
> ----------------------------------------------------------------------------------------------------------------
268,274c257,262
<    ->  GroupAggregate
<          Group Key: (time_bucket('@ 1 min'::interval, (_hyper_1_0_replica."time" - '@ 30 secs'::interval)))
<          ->  Result
<                ->  Merge Append
<                      Sort Key: (time_bucket('@ 1 min'::interval, (_hyper_1_0_replica."time" - '@ 30 secs'::interval))) DESC
<                      ->  Sort
<                            Sort Key: (time_bucket('@ 1 min'::interval, (_hyper_1_0_replica."time" - '@ 30 secs'::interval))) DESC
---
>    ->  Sort
>          Sort Key: (time_bucket('@ 1 min'::interval, (_hyper_1_0_replica."time" - '@ 30 secs'::interval))) DESC
>          ->  HashAggregate
>                Group Key: time_bucket('@ 1 min'::interval, (_hyper_1_0_replica."time" - '@ 30 secs'::interval))
>                ->  Result
>                      ->  Append
276,277d263
<                      ->  Sort
<                            Sort Key: (time_bucket('@ 1 min'::interval, (_hyper_1_1_0_partition."time" - '@ 30 secs'::interval))) DESC
279,280c265,266
<                      ->  Index Scan using "7-time_plain" on _hyper_1_1_0_1_data
< (13 rows)
---
>                            ->  Seq Scan on _hyper_1_1_0_1_data
> (10 rows)
292,293c278,279
<                                                                            QUERY PLAN                                                                           
< ----------------------------------------------------------------------------------------------------------------------------------------------------------------
---
>                                                                 QUERY PLAN                                                                
> ------------------------------------------------------------------------------------------------------------------------------------------
295,301c281,286
<    ->  GroupAggregate
<          Group Key: ((time_bucket('@ 1 min'::interval, (_hyper_1_0_replica."time" - '@ 30 secs'::interval)) + '@ 30 secs'::interval))
<          ->  Result
<                ->  Merge Append
<                      Sort Key: ((time_bucket('@ 1 min'::interval, (_hyper_1_0_replica."time" - '@ 30 secs'::interval)) + '@ 30 secs'::interval)) DESC
<                      ->  Sort
<                            Sort Key: ((time_bucket('@ 1 min'::interval, (_hyper_1_0_replica."time" - '@ 30 secs'::interval)) + '@ 30 secs'::interval)) DESC
---
>    ->  Sort
>          Sort Key: ((time_bucket('@ 1 min'::interval, (_hyper_1_0_replica."time" - '@ 30 secs'::interval)) + '@ 30 secs'::interval)) DESC
>          ->  HashAggregate
>                Group Key: (time_bucket('@ 1 min'::interval, (_hyper_1_0_replica."time" - '@ 30 secs'::interval)) + '@ 30 secs'::interval)
>                ->  Result
>                      ->  Append
303,304d287
<                      ->  Sort
<                            Sort Key: ((time_bucket('@ 1 min'::interval, (_hyper_1_1_0_partition."time" - '@ 30 secs'::interval)) + '@ 30 secs'::interval)) DESC
306,307c289,290
<                      ->  Index Scan using "7-time_plain" on _hyper_1_1_0_1_data
< (13 rows)
---
>                            ->  Seq Scan on _hyper_1_1_0_1_data
> (10 rows)
319,320c302,303
<                                                  QUERY PLAN                                                 
< ------------------------------------------------------------------------------------------------------------
---
>                                       QUERY PLAN                                      
> --------------------------------------------------------------------------------------
322,328c305,310
<    ->  GroupAggregate
<          Group Key: (time_bucket('@ 1 min'::interval, _hyper_2_0_replica."time"))
<          ->  Result
<                ->  Merge Append
<                      Sort Key: (time_bucket('@ 1 min'::interval, _hyper_2_0_replica."time")) DESC
<                      ->  Sort
<                            Sort Key: (time_bucket('@ 1 min'::interval, _hyper_2_0_replica."time")) DESC
---
>    ->  Sort
>          Sort Key: (time_bucket('@ 1 min'::interval, _hyper_2_0_replica."time")) DESC
>          ->  HashAggregate
>                Group Key: time_bucket('@ 1 min'::interval, _hyper_2_0_replica."time")
>                ->  Result
>                      ->  Append
330,331d311
<                      ->  Sort
<                            Sort Key: (time_bucket('@ 1 min'::interval, _hyper_2_2_0_partition."time")) DESC
333,334c313,314
<                      ->  Index Scan using "2-time_plain_tz" on _hyper_2_2_0_2_data
< (13 rows)
---
>                            ->  Seq Scan on _hyper_2_2_0_2_data
> (10 rows)
346,347c326,327
<                                                                 QUERY PLAN                                                                 
< -------------------------------------------------------------------------------------------------------------------------------------------
---
>                                                      QUERY PLAN                                                      
> ---------------------------------------------------------------------------------------------------------------------
349,355c329,334
<    ->  GroupAggregate
<          Group Key: (time_bucket('@ 1 min'::interval, (_hyper_2_0_replica."time")::timestamp without time zone))
<          ->  Result
<                ->  Merge Append
<                      Sort Key: (time_bucket('@ 1 min'::interval, (_hyper_2_0_replica."time")::timestamp without time zone)) DESC
<                      ->  Sort
<                            Sort Key: (time_bucket('@ 1 min'::interval, (_hyper_2_0_replica."time")::timestamp without time zone)) DESC
---
>    ->  Sort
>          Sort Key: (time_bucket('@ 1 min'::interval, (_hyper_2_0_replica."time")::timestamp without time zone)) DESC
>          ->  HashAggregate
>                Group Key: time_bucket('@ 1 min'::interval, (_hyper_2_0_replica."time")::timestamp without time zone)
>                ->  Result
>                      ->  Append
357,358d335
<                      ->  Sort
<                            Sort Key: (time_bucket('@ 1 min'::interval, (_hyper_2_2_0_partition."time")::timestamp without time zone)) DESC
360,361c337,338
<                      ->  Index Scan using "2-time_plain_tz" on _hyper_2_2_0_2_data
< (13 rows)
---
>                            ->  Seq Scan on _hyper_2_2_0_2_data
> (10 rows)
373,374c350,351
<                                        QUERY PLAN                                       
< ----------------------------------------------------------------------------------------
---
>                             QUERY PLAN                            
> ------------------------------------------------------------------
376,382c353,358
<    ->  GroupAggregate
<          Group Key: (((_hyper_3_0_replica."time" / 10) * 10))
<          ->  Result
<                ->  Merge Append
<                      Sort Key: (((_hyper_3_0_replica."time" / 10) * 10)) DESC
<                      ->  Sort
<                            Sort Key: (((_hyper_3_0_replica."time" / 10) * 10)) DESC
---
>    ->  Sort
>          Sort Key: (((_hyper_3_0_replica."time" / 10) * 10)) DESC
>          ->  HashAggregate
>                Group Key: ((_hyper_3_0_replica."time" / 10) * 10)
>                ->  Result
>                      ->  Append
384,385d359
<                      ->  Sort
<                            Sort Key: (((_hyper_3_3_0_partition."time" / 10) * 10)) DESC
387,390c361,364
<                      ->  Index Scan using "3-time_plain_int" on _hyper_3_3_0_3_data
<                      ->  Index Scan using "4-time_plain_int" on _hyper_3_3_0_4_data
<                      ->  Index Scan using "5-time_plain_int" on _hyper_3_3_0_5_data
< (15 rows)
---
>                            ->  Seq Scan on _hyper_3_3_0_3_data
>                            ->  Seq Scan on _hyper_3_3_0_4_data
>                            ->  Seq Scan on _hyper_3_3_0_5_data
> (12 rows)
402,403c376,377
<                                              QUERY PLAN                                             
< ----------------------------------------------------------------------------------------------------
---
>                                   QUERY PLAN                                  
> ------------------------------------------------------------------------------
405,411c379,384
<    ->  GroupAggregate
<          Group Key: (((((_hyper_3_0_replica."time" - 2) / 10) * 10) + 2))
<          ->  Result
<                ->  Merge Append
<                      Sort Key: (((((_hyper_3_0_replica."time" - 2) / 10) * 10) + 2)) DESC
<                      ->  Sort
<                            Sort Key: (((((_hyper_3_0_replica."time" - 2) / 10) * 10) + 2)) DESC
---
>    ->  Sort
>          Sort Key: (((((_hyper_3_0_replica."time" - 2) / 10) * 10) + 2)) DESC
>          ->  HashAggregate
>                Group Key: ((((_hyper_3_0_replica."time" - 2) / 10) * 10) + 2)
>                ->  Result
>                      ->  Append
413,414d385
<                      ->  Sort
<                            Sort Key: (((((_hyper_3_3_0_partition."time" - 2) / 10) * 10) + 2)) DESC
416,419c387,390
<                      ->  Index Scan using "3-time_plain_int" on _hyper_3_3_0_3_data
<                      ->  Index Scan using "4-time_plain_int" on _hyper_3_3_0_4_data
<                      ->  Index Scan using "5-time_plain_int" on _hyper_3_3_0_5_data
< (15 rows)
---
>                            ->  Seq Scan on _hyper_3_3_0_3_data
>                            ->  Seq Scan on _hyper_3_3_0_4_data
>                            ->  Seq Scan on _hyper_3_3_0_5_data
> (12 rows)
